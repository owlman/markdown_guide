# 第5章 好作品是改出来的

## 本章提要

我写这本书的目的之一，就是想阐述一种“像写程序一样写作”的方法论。在我个人看来，写作和写程序代码在本质上并没有多少差异，两者的首要工作都应该是用语言工具将问题或观点表达清楚，然后在表达清晰的基础上，我们再来追求一些表达的效率。该简单明了的地方，不要拐弯抹角、废话连篇，该突出重点的地方不要语焉不详、故弄玄虚。最后才是追求美感，锦上添花。如今有些文学流派，完全本末倒置，一个简单的故事，他偏偏要堆砌一堆优美的废话，无病呻吟，还号称自己“三年得二句，捻断数根须”，而且他表达的这种意境还要有缘人得之，这听上去，就像是那件只有聪明人才能看见的衣服，大概只有不谙世事的小孩才能说点实话。人间本就很复杂，我们大可不必如此画蛇添足，自欺欺人，要知道，“那人就在灯火阑珊处”啊。

另一方面，和程序中始终会存在bug一样，我们在写作时表达中也始终会存在各种各样的问题，有些是表达逻辑上的缺陷，有些是表达视角上的问题，甚至还有些只是一些语病、错别字问题。我们可能写不出没有bug的程序和没有问题的文章，但可以一直持续地完善自己的作品，优秀的文章和优秀的程序一样，来自于写完之后的精心打磨和维护，在这一章中，我们将继续以之前的论文为导引，讨论一下`Markdown`文档的审阅、修改与维护。

## 5.1 选择合适的审阅工具

在一件作品完成之后，其质量的第一个把关者通常都应该是作者自己。每一个作者在写作过程中，多多少少都会存在一些输入性错误（相当于纸和笔时代的笔误），他们应该尽可能地找出作品中错误的文字、标点、代码以及图表。除此之外，我们的作品中通常还少不了会存在一些词不达意、表达不够充分的，甚至是表达错误，存在语病的文字。最后，作品本身的结构，譬如章节的先后顺序可能也需要做一些调整。所有的这一切，都是我们在自我检阅过程中要完成的任务。

要想较好地完成自我检阅工作，我们首先要做的就是通读自己的作品。在通读过程中，我们应该尽可能地专注于作品本身的内容，这时候任何与作品内容无关的事物都应被视为干扰，即使是最简单的`Markdown`标记也不例外。为了在通读作品时排除这些干扰，最简单直接的做法就是使用`Markdown`的预览器来完成通读工作。但这种做法有一个明显的缺陷：这些预览器只能显示`Markdown`标记的渲染效果，它们并不支持文章的直接修改。也就是说，每当我们发现作品中存在问题时，就要去编辑器中找到该问题所在的相应位置才能修改，这终归让人感觉没有Microsoft Word那样做到“所见即所得”的使用体验。所以在这里，我会建议大家使用同样实现了“所见即所得”的Typora编辑器来完成作品检阅阶段的工作。下面，我们就来介绍一下这款编辑器的具体使用。让我们先从利用这款编辑器的优势开始：

首先，当然是这款编辑器的**跨平台特性**。Typora支持MacOS、Windows以及各种Linux桌面发行版，我们可以在各种工作环境中使用这款编辑器，不受具体操作系统的限制。譬如，我的台式机上运行的是Ubuntu，而我的笔记本电脑是Macbook Air，它运行的是MacOS，我通常会在不同的时间段里分别在这两台电脑上对相同的文章进行编辑，Typora在两边的用户体验是完全一致的，完全感觉不到使用环境的不同。下面，我们就来简单介绍一下如何在MacOS、Windows和Ubuntu这三个系统中如何下载安装Typora吧。

Typora在MacOS和Windows下的安装过程极为简单，其步骤如下：

- 第一步. 在浏览器中打开下载地址： https://typora.io/
- 第二步. 在打开的页面中找到如下图所示的下载链接，下载相应系统的安装包，并根据安装向导完成安装即可。

  ![下载Typora](img/5-7.png)

*请注意*：MacOS的版本需在10.10以上。

而该编辑器在Ubuntu上的安装则更复杂一点，我们需要使用apt包管理器来安装（当然你也可以直接下载二进制安装包），这样做的好处是，今后我们可以直接使用apt命令来进行软件更新，其步骤如下：

- 第一步. 在浏览器中打开相关下载页面： https://typora.io/#linux
- 第二步. 复制页面中显示的`shell`命令，并在终端中执行。

```bash
  # or run:
  # sudo apt-key adv --keyserver keyserver.ubuntu.com --recv-keys BA300B7755AFCFAE
  wget -qO - https://typora.io/linux/public-key.asc | sudo apt-key add -
  
  # add Typora's repository
  sudo add-apt-repository 'deb https://typora.io/linux ./'
  sudo apt-get update

  # install typora
  sudo apt-get install typora
```

*请注意*：上述下载页面也提供了二进制安装包的下载链接，其位于上面这段`shell`代码的正下方，显示为`>> or,download binary file x63 x86`字样。

然后是最重要的**即时预览**功能。一般`Markdown`编辑器的界面往往都是并列着两个窗口，左边的窗口是编码区，用于编写`Markdown`标记源码，右边的窗口则是预览区，用于显示相应的`HTML`渲染效果。在写作过程中，为了及时掌握标记的效果，在编写源码时同步查看一下渲染效果是可以接受的，因为有些标记的复杂应用（譬如制作图表，编写数学公式）还是需要我们在专注于标记本身的编码，但如果到了自我检阅阶段，需要专注于作品内容时这种安排就确实让人觉得有些不便了，这时候Typora的即时渲染功能，所见即所得的优势就凸显了出来。下面是该编辑器打开之前那篇论文第二章时的效果：
  
![使用Typora编辑器通读论文](img/5-1.png)

接下来是其支持的**扩展功能**：Typora支持的是GitHub风格的`Markdown`语法，并提供了任务列表、表情符号、数学公式、代码高亮、图表生成等扩展支持，当然，部分扩展在默认设定下是没有被打开的，我们需要提供点击「文件-偏好设置」菜单，通过如下界面来进行设置：

![Typora的扩展设置](img/5-2.png)

在设置完成之后，我们就可以来看看该编辑器对于这些扩展的支持情况，譬如下面是`LaTeX`数学公式和`Mermaid`图库生成的渲染效果：

![Typora的扩展支持](img/5-3.png)

当我们将光标移到相关元素上时，编辑器就会自动显示该公式和图形元素背后的`Markdown`标记，我们可以随时就发现的问题对它们进行修改。譬如下面是修改序列图时的状态：

![在Typora中修改生成图形](img/5-4.png)

除此之外，Typora还对几乎所有的`Markdown`语法都提供了快捷操作，我们可通过「段落」和「格式」这两个菜单中的选项快速地设置`Markdown`文档中的元素标记。当然，在我们足够熟练之后，还可以使用下面这些编辑器提供的常用快捷键，实现更为高效的操作：

![Typora的快捷键](img/5-5.png)

而在阅读体验方面，Typora不仅界面设计得简约美观，还默认自带6种`Markdown`的预览主题，我们可通过「主题」菜单进行随意切换，以进一步改善我们的阅读体验。譬如下面是以`Newsprint`主题来显示上述论文第二章的效果；

![Typora的样式主题](img/5-6.png)

## 5.2 转换成更通用的格式

## 5.3 使用版本控制系

## 本章小结